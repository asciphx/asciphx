"use strict";var e=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.fileAction=exports.deleteOne=exports.deleteAll=exports.readFileList=exports.sqlCheck=exports.suffix=exports.html=exports.ctx=void 0;var a=e(require("@babel/runtime/regenerator")),n=e(require("@babel/runtime/helpers/asyncToGenerator")),u=e(require("fs")),l=e(require("url")),r=function(e){for(var r=null===e?{}:{result:e},t=arguments.length,n=new Array(1<t?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return Object.assign.apply(Object,[r].concat(n)),r};exports.ctx=r;var t=function(e,r){for(var t=l.default.parse(e.url).path.replace(/^\//,""),n=arguments.length,a=new Array(2<n?n-2:0),u=2;u<n;u++)a[u-2]=arguments[u];r.view.apply(r,[""===t?t="index.html":t+=".html"].concat(a))};exports.html=t;var c=function(e){return e.replace(/().*(?=)\./,".")};exports.suffix=c;var i=function(e){return!/int/.test(e)&&/text|char/.test(e)?"string":"number"};exports.sqlCheck=i;var s=function readFileList(t,n){u.default.readdirSync(t).forEach(function(e,r){u.default.statSync(t+e).isDirectory()?readFileList(t+e+"/",n):n.push(t+e)})};exports.readFileList=s;var o=function(){var r=(0,n.default)(a.default.mark(function _callee(r){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:"/"!==r.slice(-1)&&(r+="/"),u.default.readdirSync(r).forEach(function(e){u.default.unlinkSync(r+e)});case 2:case"end":return e.stop()}},_callee)}));return function(e){return r.apply(this,arguments)}}();exports.deleteAll=o;var f=function(){var r=(0,n.default)(a.default.mark(function _callee2(r){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:u.default.existsSync(r)&&u.default.unlinkSync(r);case 1:case"end":return e.stop()}},_callee2)}));return function(e){return r.apply(this,arguments)}}();exports.deleteOne=f;var p=function(){var t=(0,n.default)(a.default.mark(function _callee3(r,t){var n;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Array,e.next=3,s(r.query.path,n);case 3:return e.next=5,t.send(n);case 5:case"end":return e.stop()}},_callee3)}));return function(e,r){return t.apply(this,arguments)}}();exports.fileAction=p;